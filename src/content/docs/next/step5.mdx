---
title: '5: タスクの表示'
pubDate: 2025-06-09
description: 'Next.js の初心者向けチュートリアルです'
author: 'Nabe847'
image:
  url: 'https://docs.astro.build/assets/full-logo-light.png'
  alt: 'Astroのロゴ。'
tags: ['Next.js', 'tutorial']
---

## このステップで学ぶこと

前回はページを追加する方法やページ同士をリンクする方法について学びました。  
今回は配列に格納されているデータからページの内容を組み立てる方法を学びましょう。

1. **配列データの表示方法**
2. **`map()`を使った繰り返し処理**
3. **条件分岐による表示切り替え**

> 💡 **ヒント**:  
> Webアプリケーションではユーザーや状況などによって表示する内容が変わるのが一般的です。  
> このステップでは状況に応じて表示内容を変える方法について学びます。

## タスク表示機能の実装

まずは配列に格納されたデータをページに表示する方法について学びましょう。  
`src/app/todos/page.js` を以下の内容に変えます。

```diff lang="js"
// src/app/todos/page.js

import style from './page.module.css';

export default function Todos() {
+  // タスクデータの定義
+  const tasks = [
+    { id: 1, title: '買い物に行く', completed: false },
+    { id: 2, title: 'メールを確認する', completed: false },
+    { id: 3, title: '資料を作成する', completed: false },
+    { id: 4, title: '友達に電話する', completed: false },
+    { id: 5, title: '部屋の掃除', completed: false },
+  ];

  return (
    <section className={style.container}>
      <h1>Todoリスト</h1>
      <div className={style.checkbox}>
-        <label>
-          <input type="checkbox" />
-          買い物に行く
-        </label>
-        <label>
-          <input type="checkbox" />
-          メールを確認する
-        </label>
-        <label>
-          <input type="checkbox" />
-          資料を作成する
-        </label>
-        <label>
-          <input type="checkbox" />
-          友達に電話する
-        </label>
-        <label>
-          <input type="checkbox" />
-          部屋の掃除
-        </label>
+        {tasks.map((task) => (
+          <label key={task.id}>
+            <input type="checkbox" checked={task.completed} />
+            {task.title}
+          </label>
+        ))}
      </div>
      <Link href="/">トップへ戻る</Link>
    </section>
  );
}
```

## コードの解説

1. **タスクデータの定義**
   ```javascript
   const tasks = [
     { id: 1, title: '買い物に行く', completed: false },
     { id: 2, title: 'メールを確認する', completed: false },
     { id: 3, title: '資料を作成する', completed: false },
     { id: 4, title: '友達に電話する', completed: false },
     { id: 5, title: '部屋の掃除', completed: false },
   ];
   ```
   - `tasks` 配列に、各タスクの情報を格納
   - 各タスクは `id`、`title`、`completed` の3つのプロパティを持つオブジェクト
   - `id` は一意の識別子として使用
   - `completed` はタスクの完了状態を表す真偽値

2. **map() によるタスクの表示**
   ```javascript
   {tasks.map((task) => (
     <label key={task.id}>
       <input type="checkbox" checked={task.completed} />
       {task.title}
     </label>
   ))}
   ```
   - `tasks.map()` で各タスクを処理
   - `key={task.id}` で各要素に一意の識別子を付与
   - 各タスクを `label` 要素として表示
   - `checked` プロパティでチェックボックスの状態を制御

## よくある問題と解決方法

**タスクが表示されない場合**
- `tasks` 配列が正しく定義されているか確認
- `map()` の構文が正しいか確認
- コンソールにエラーが表示されていないか確認

**スタイルが適用されない場合**
- CSSモジュールのインポートが正しいか確認
- クラス名の指定が正しいか確認

**key の警告が表示される場合**
- 各タスクに一意の `id` が設定されているか確認
- `key` プロパティが正しく設定されているか確認

## 🔍 確認

実装した機能が正しく動作しているか確認しましょう：

import ChecklistItem from '../../../components/ChecklistItem.jsx';

<div>
  <ChecklistItem client:load id="step5-point1">
    5つのタスクが表示される
  </ChecklistItem>
  <ChecklistItem client:load id="step5-point2">
    各タスクにチェックボックスが表示される
  </ChecklistItem>
</div>

## 🎯 理解度チェック

以下の質問に答えて、学習内容を確認しましょう！

1. **配列の各要素を処理して新しい配列を作成するメソッドは？**

   - A: `forEach()`
   - B: `map()`
   - C: `filter()`
   - D: `reduce()`

<details>
<summary>答えを見る</summary>

   **答え: B: `map()`**

   - `map()` は配列の各要素に対して処理を行い、新しい配列を作成します
   - このステップでは、タスクデータを HTML 要素の配列に変換するために使用しています
</details>

2. **React でリストを表示する際に必要な属性は？**

   - A: `id`
   - B: `key`
   - C: `name`
   - D: `index`

<details>
<summary>答えを見る</summary>

   **答え: B: `key`**

   - `key` は各要素を一意に識別するために必要な属性です
   - React が効率的に DOM を更新するために使用されます
</details>

## 📝 まとめ

このステップでは以下について学びました。

- **動的なコンテンツの表示**
  - 配列データの定義と管理
  - `map()` を使った繰り返し処理
  - 条件に応じた表示の切り替え

- **React の基本概念**
  - リストの表示方法
  - コンポーネントの構造
  - 条件付きレンダリング

- **トラブルシューティング**
  - 配列処理の問題解決
  - `key` プロパティの設定確認

---
